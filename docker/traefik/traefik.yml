# Traefik configuration file
api:
  dashboard: true
  insecure: true  # true for development, false for production

entryPoints:
  web:
    address: ":80"
    # HTTP to HTTPS redirect (for production)
    # http:
    #   redirections:
    #     entrypoint:
    #       to: websecure
    #       scheme: https
  websecure:
    address: ":443"

providers:
  docker:
    endpoint: "unix:///var/run/docker.sock"
    exposedByDefault: false  # Only expose containers with labels
    network: apphub-network
    watch: true
    refreshSeconds: 15
    httpClientTimeout: 0

# Logging configuration
log:
  level: INFO
  format: json

accessLog:
  format: json
  fields:
    defaultMode: keep
    headers:
      defaultMode: keep

# Metrics (optional)
# metrics:
#   prometheus:
#     buckets:
#       - 0.1
#       - 0.3
#       - 1.2
#       - 5.0 